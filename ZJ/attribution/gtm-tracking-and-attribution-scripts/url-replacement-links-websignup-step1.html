<script>
  // Prepare tracker URLs using localStorage for persistency across device breaks
  var lookupAdjustTrackerUrl = {{ALL | Adjust Android + iOS tracker URL - Web signup}};
  
  if(localStorage.getItem('adjust_tracker_url') === null && typeof lookupAdjustTrackerUrl != 'undefined') {
    localStorage.setItem('adjust_tracker_url', lookupAdjustTrackerUrl);    
  }

  var lookupAdjustTrackerUrlSmartBanner = {{ALL | Adjust Android + iOS tracker URL - Smartbanner}};

  if (localStorage.getItem('adjust_tracker_url_sb') === null && typeof lookupAdjustTrackerUrlSmartBanner != 'undefined') {
    localStorage.setItem('adjust_tracker_url_sb', lookupAdjustTrackerUrlSmartBanner);
  }

  function linkUpdater() {
    var sbTrackerUrl = localStorage.getItem('adjust_tracker_url_sb');

    // Replace Smartbanner__button anchors for Android
    var android_smartbanner_buttons = document.querySelectorAll("a[href*='https://play.google.com/store/apps/details?xxxxx'][class*='smartbanner__button']");
    if (sbTrackerUrl != null) {
      for (var k = 0; k < android_smartbanner_buttons.length; ++k) {
        var button = android_smartbanner_buttons[k];
        button.href = sbTrackerUrl;
      }
    }

    // Replace Smartbanner__button anchors for iOS
    var ios_smartbanner_buttons = document.querySelectorAll("a[href*='https://apps.apple.com/de/app/xxxxx'][class*='smartbanner__button']");
    if (sbTrackerUrl != null) {
      for (var l = 0; l < ios_smartbanner_buttons.length; ++l) {
        var button = ios_smartbanner_buttons[l];
        button.href = sbTrackerUrl;
      }
    }
  }

  setTimeout(linkUpdater, 2000);
  
</script>
